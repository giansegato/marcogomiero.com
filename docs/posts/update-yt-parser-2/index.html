<!DOCTYPE html>
<html lang="en-us">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta name="theme-color" content="#494f5c">
	<meta name="msapplication-TileColor" content="#494f5c">
<meta itemprop="name" content="New big update for Youtube Parser: video stats and much more">
<meta itemprop="description" content="Youtube Parser is an Android Library that helps you to handle Youtube videos from a specific channel. Let&#39;s see how it works!">


<meta itemprop="datePublished" content="2017-06-23T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2017-06-23T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="722">

  <meta itemprop="image" content="https://miro.medium.com/max/1400/1*rNC9B9nCUquBYtkfVv2aWQ.jpeg">



<meta itemprop="keywords" content="" />
<meta property="og:title" content="New big update for Youtube Parser: video stats and much more" />
<meta property="og:description" content="Youtube Parser is an Android Library that helps you to handle Youtube videos from a specific channel. Let&#39;s see how it works!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.marcogomiero.com/posts/update-yt-parser-2/" />

<meta property="og:image" content="https://miro.medium.com/max/1400/1*rNC9B9nCUquBYtkfVv2aWQ.jpeg" />
<meta property="article:published_time" content="2017-06-23T00:00:00+00:00" />
<meta property="article:modified_time" content="2017-06-23T00:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://miro.medium.com/max/1400/1*rNC9B9nCUquBYtkfVv2aWQ.jpeg"/>

<meta name="twitter:title" content="New big update for Youtube Parser: video stats and much more"/>
<meta name="twitter:description" content="Youtube Parser is an Android Library that helps you to handle Youtube videos from a specific channel. Let&#39;s see how it works!"/>

	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/site.webmanifest">
	<link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
	<link rel="shortcut icon" href="/favicon.ico">

	<title>New big update for Youtube Parser: video stats and much more</title>
	<link rel="stylesheet" href="https://www.marcogomiero.com/css/style.min.2228be6b0c0388454036050b3f2743e5fd95a0dc0c3564e5623e94748b585ef1.css" integrity="sha256-Iii+awwDiEVANgULPydD5f2VoNwMNWTlYj6UdItYXvE=">
	<style>.bg-img {background-image: url('https://miro.medium.com/max/1400/1*rNC9B9nCUquBYtkfVv2aWQ.jpeg');}</style>
</head>

<body id="page">
	
	<header id="site-header" class="animated slideInUp faster">
		<div class="hdr-wrapper section-inner">
			<div class="hdr-left">
				<div class="site-branding">
					<a href="https://www.marcogomiero.com">Marco Gomiero</a>
				</div>
				<nav class="site-nav hide-in-mobile">
					
				<a href="https://www.marcogomiero.com/posts/">Blog</a>
				<a href="https://www.marcogomiero.com/talks/">Talks</a>
				<a href="https://www.marcogomiero.com/projects/">Projects</a>
				<a href="https://www.marcogomiero.com/about-me/">About</a>

				</nav>
			</div>
			<div class="hdr-right hdr-icons">
				<button id="img-btn" class="hdr-btn" title="Featured Image"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-image"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg></button><span class="hdr-social hide-in-mobile"><a href="https://twitter.com/marcoGomier" target="_blank" rel="noopener me" title="Twitter"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a><a href="https://www.linkedin.com/in/marco-gomiero-a80857ab/" target="_blank" rel="noopener me" title="Linkedin"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg></a><a href="https://github.com/prof18" target="_blank" rel="noopener me" title="Github"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a></span><button id="menu-btn" class="hdr-btn" title="Menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button>
			</div>
		</div>
		<script async defer src="https://buttons.github.io/buttons.js"></script>
	</header>
	<div id="mobile-menu" class="animated fast">
		<ul>
			<li><a href="https://www.marcogomiero.com/posts/">Blog</a></li>
			<li><a href="https://www.marcogomiero.com/talks/">Talks</a></li>
			<li><a href="https://www.marcogomiero.com/projects/">Projects</a></li>
			<li><a href="https://www.marcogomiero.com/about-me/">About</a></li>
		</ul>
	</div>


	<div class="bg-img"></div>
	<main class="site-main section-inner animated fadeIn faster">
		<article class="thin">
			<header class="post-header">
				<div class="post-meta"><span>Jun 23, 2017</span></div>
				<h1>New big update for Youtube Parser: video stats and much more</h1>
			</header>
			<div class="content">
				<p>Finally I&rsquo;ve released a new big update for YoutubeParser. For people who don&rsquo;t know what I&rsquo;m talking about, don&rsquo;t worry now I&rsquo;m going to explain all.</p>

<p><strong>YoutubeParser</strong> is the first <strong>Android library</strong> that I ever wrote. With this library it is possible to get information of videos from Youtube channels. These information are:</p>

<ul>
<li>Title</li>
<li>Link<br /></li>
<li>Thumbnail, with three different image size.</li>
</ul>

<p>After a year I&rsquo;ve released this new big update, named 2.0, that introduces a bunch of new things. First of all, now it is possible to load more than 50 videos from the same channel. 50 is the maximum number of videos that can be retrieved with a single request.</p>

<p>Furthermore you can also get the statistics of a video:</p>

<ul>
<li>View</li>
<li>Like</li>
<li>Dislike</li>
<li>Favorite Count</li>
<li>Comment Count</li>
</ul>

<p>The source code of the library is on Github together with a sample application that shows what you can do with the library.</p>

<ul>
<li><a href="https://github.com/prof18/YoutubeParser">Click here to view the library on Github</a></li>
<li><a href="https://github.com/prof18/YoutubeParser/tree/master/app">Click here to show the code of the sample app</a></li>
<li><a href="https://github.com/prof18/YoutubeParser/blob/master/YoutubeParser.apk">Click here to download the app</a></li>
</ul>

<p><img src="https://raw.githubusercontent.com/prof18/YoutubeParser/master/Screen.png" width="50%" height="50%" align="center"></p>

<p>Of course the library is available also on jCenter so you can easily add the dependency on Gradle.</p>
<div class="highlight"><pre class="chroma"><code class="language-gradle" data-lang="gradle"><span class="n">dependencies</span> <span class="o">{</span>
  <span class="n">compile</span> <span class="s1">&#39;com.prof.youtubeparser:youtubeparser:2.0&#39;</span>
<span class="o">}</span></code></pre></div>
<p>Now let&rsquo;s look how it works. First of all you need to create a new <em>Parser</em> Object and then you have to create the url to load the data by using the method <em>generateRequest</em>. This method takes as parameter four values:</p>

<ul>
<li>The Channel ID of a Youtube Channel. For example, for this link <em>youtube.com/channel/UCVHFbqXqoYvEWM1Ddxl0QDg</em>, the Channel ID is: <em>UCVHFbqXqoYvEWM1Ddxl0QDg</em></li>
<li>The maximum number of videos to show. This value can be maximum 50.</li>
<li>The type of ordering of the videos. It is possible to choose between two different type of ordering: by date or by views. To select the chosen value you have to use the constants: <em>Parser.ORDER_DATE</em> and <em>Parser.ORDER_VIEW_COUNT</em></li>
<li>The API Key. The key is a <em>BROSWER API KEY</em> and to create it you can follow <a href="https://support.google.com/cloud/answer/6158862?hl=en#creating-browser-api-keys">this guide</a></li>
</ul>

<p>If the data are correctly retrieved, you can do your stuff inside the <em>onTaskCompleted</em>. Here you have two variable: an <em>ArrayList</em> of <em>Video</em> items that you can use to populate your view for instance and a <em>token</em> that is necessary to load more data (see below for more details).</p>

<p>If there are some error on the process, you can handle the situation in the <em>onError()</em> method.</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nf">com</span><span class="p">.</span><span class="na">prof</span><span class="p">.</span><span class="na">youtubeparser</span><span class="p">.</span><span class="na">Parser</span><span class="p">;</span>
<span class="kn">import</span> <span class="nf">com</span><span class="p">.</span><span class="na">prof</span><span class="p">.</span><span class="na">youtubeparser</span><span class="p">.</span><span class="na">models</span><span class="p">.</span><span class="na">videos</span><span class="p">.</span><span class="na">Video</span><span class="p">;</span>

<span class="n">Parser</span> <span class="nf">parser</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Parser</span><span class="p">();</span>

<span class="c1">//(CHANNEL_ID, NUMBER_OF_RESULT_TO_SHOW, ORDER_TYPE ,BROSWER_API_KEY)
</span><span class="c1">//https://www.youtube.com/channel/UCVHFbqXqoYvEWM1Ddxl0QDg --&gt; channel id = UCVHFbqXqoYvEWM1Ddxl0QDg
</span><span class="c1">//The maximum number of result to show is 50
</span><span class="c1">//ORDER_TYPE --&gt; by date: &#34;Parser.ORDER_DATE&#34; or by number of views: &#34;ORDER_VIEW_COUNT&#34;  
</span><span class="c1"></span><span class="n">String</span> <span class="nf">url</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">generateRequest</span><span class="p">(</span><span class="n">CHANNEL_ID</span><span class="p">,</span> <span class="n">20</span><span class="p">,</span> <span class="n">Parser</span><span class="p">.</span><span class="na">ORDER_DATE</span><span class="p">,</span> <span class="n">API_KEY</span><span class="p">);</span>
<span class="n">parser</span><span class="p">.</span><span class="na">execute</span><span class="p">(</span><span class="n">url</span><span class="p">);</span>
<span class="n">parser</span><span class="p">.</span><span class="na">onFinish</span><span class="p">(</span><span class="k">new</span> <span class="n">Parser</span><span class="p">.</span><span class="na">OnTaskCompleted</span><span class="p">()</span> <span class="p">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nf">void</span> <span class="n">onTaskCompleted</span><span class="p">(</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Video</span><span class="o">&gt;</span> <span class="nf">list</span><span class="p">,</span> <span class="n">String</span> <span class="nf">nextPageToken</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//what to do when the parsing is done
</span><span class="c1"></span>      <span class="c1">//the ArrayList contains all video data. For example you can use it for your adapter
</span><span class="c1"></span>    <span class="p">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="nf">void</span> <span class="n">onError</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">//what to do in case of error
</span><span class="c1"></span>    <span class="p">}</span>
<span class="p">});</span></code></pre></div>
<p>If you want to retrieved <strong>more videos from the same channel</strong>, the procedure is the same of the above case. The only difference is the method that generate the url; here you have to add the token retrieved from the above procedure.</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="n">String</span> <span class="nf">url</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="na">generateMoreDataRequest</span><span class="p">(</span><span class="n">CHANNEL_ID</span><span class="p">,</span> <span class="n">20</span><span class="p">,</span> <span class="n">Parser</span><span class="p">.</span><span class="na">ORDER_DATE</span><span class="p">,</span> <span class="n">API_KEY</span><span class="p">,</span> <span class="n">nextToken</span><span class="p">);</span></code></pre></div>
<p>To get <strong>the statistics of a single video</strong>, the procedure is equivalent of the previous. As you can guess, the first thing to do is to generate the url with the <em>generateStatsRequest</em> method. The parameter of this method are:</p>

<ul>
<li>The ID of a Youtube Video</li>
<li>The API Key</li>
</ul>

<p>Also here you can handle the result in the <em>onTaskCompleted</em> method and any error in the <em>onError()</em> method.</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nf">com</span><span class="p">.</span><span class="na">prof</span><span class="p">.</span><span class="na">youtubeparser</span><span class="p">.</span><span class="na">VideoStats</span><span class="p">;</span>
<span class="kn">import</span> <span class="nf">com</span><span class="p">.</span><span class="na">prof</span><span class="p">.</span><span class="na">youtubeparser</span><span class="p">.</span><span class="na">models</span><span class="p">.</span><span class="na">stats</span><span class="p">.</span><span class="na">Statistics</span><span class="p">;</span>

<span class="n">VideoStats</span> <span class="nf">videoStats</span> <span class="o">=</span> <span class="k">new</span> <span class="n">VideoStats</span><span class="p">();</span>
<span class="n">String</span> <span class="nf">url</span> <span class="o">=</span> <span class="n">videoStats</span><span class="p">.</span><span class="na">generateStatsRequest</span><span class="p">(</span><span class="n">videoId</span><span class="p">,</span> <span class="n">API_KEY</span><span class="p">);</span>
<span class="n">videoStats</span><span class="p">.</span><span class="na">execute</span><span class="p">(</span><span class="n">url</span><span class="p">);</span>
<span class="n">videoStats</span><span class="p">.</span><span class="na">onFinish</span><span class="p">(</span><span class="k">new</span> <span class="n">VideoStats</span><span class="p">.</span><span class="na">OnTaskCompleted</span><span class="p">()</span> <span class="p">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nf">void</span> <span class="n">onTaskCompleted</span><span class="p">(</span><span class="n">Statistics</span> <span class="nf">stats</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//Here you can set the statistic to a Text View for instance
</span><span class="c1"></span>
      <span class="c1">//for example:
</span><span class="c1"></span>      <span class="n">String</span> <span class="nf">body</span> <span class="o">=</span> <span class="s">&#34;Views: &#34;</span> <span class="o">+</span> <span class="n">stats</span><span class="p">.</span><span class="na">getViewCount</span><span class="p">()</span> <span class="o">+</span> <span class="s">&#34;\n&#34;</span> <span class="o">+</span>
                    <span class="s">&#34;Like: &#34;</span> <span class="o">+</span> <span class="n">stats</span><span class="p">.</span><span class="na">getLikeCount</span><span class="p">()</span> <span class="o">+</span> <span class="s">&#34;\n&#34;</span> <span class="o">+</span>
                    <span class="s">&#34;Dislike: &#34;</span> <span class="o">+</span> <span class="n">stats</span><span class="p">.</span><span class="na">getDislikeCount</span><span class="p">()</span> <span class="o">+</span> <span class="s">&#34;\n&#34;</span> <span class="o">+</span>
                    <span class="s">&#34;Number of comment: &#34;</span> <span class="o">+</span> <span class="n">stats</span><span class="p">.</span><span class="na">getCommentCount</span><span class="p">()</span> <span class="o">+</span> <span class="s">&#34;\n&#34;</span> <span class="o">+</span>
                    <span class="s">&#34;Number of favourite: &#34;</span> <span class="o">+</span> <span class="n">stats</span><span class="p">.</span><span class="na">getFavoriteCount</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="nf">void</span> <span class="n">onError</span><span class="p">()</span> <span class="p">{</span>
      <span class="c1">//what to do in case of error
</span><span class="c1"></span>  <span class="p">}</span>
<span class="p">});</span></code></pre></div>
<p>That&rsquo;s all! Please let me know if you notice any bug or if you have any advice that can improve this library.</p>

<hr />

<p><em>Published also on <a href="https://medium.com/@marcogomiero/new-big-update-for-youtube-parser-video-stats-and-much-more-79dde73f21e6">Medium</a></em></p>

			</div>

			<hr class="post-end">
			<footer class="post-info">
				<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>722 Words</p>
				<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>2017-06-23 02:00 &#43;0200</p>
			</footer>
		</article>
		<div class="post-nav thin">
			<a class="next-post" href="https://www.marcogomiero.com/posts/rss-parser-library/">
				<span class="post-nav-label"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>&nbsp;Newer</span><br><span>How to easily handle RSS Feeds on Android with RSS Parser</span>
			</a>
			<a class="prev-post" href="https://www.marcogomiero.com/posts/backup-restore/">
				<span class="post-nav-label">Older&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><br><span>How to deal with backup &amp; restore on Android (Slide &amp;amp; Video) </span>
			</a>
		</div>
		<div id="comments" class="thin">
<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "marcogomiero" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
	</main>

	<footer id="site-footer" class="section-inner thin animated fadeIn faster">
		<p>&copy; 2019 <a href="https://www.marcogomiero.com">Marco Gomiero</a></p>
		<p>
			Made with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> &#183; Theme <a href="https://github.com/Track3/hermit" target="_blank" rel="noopener">Hermit</a> &#183; <a href="https://www.marcogomiero.com/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a>
		</p>
	</footer>


	<script src="https://www.marcogomiero.com/js/main.min.35ccbf1cdceb91e4c64c06b5d009d6e2977fafe56beda7762febd4e67528d2ac.js" integrity="sha256-Ncy/HNzrkeTGTAa10AnW4pd/r+Vr7ad2L+vU5nUo0qw="></script>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-90975904-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


</body>

</html>
